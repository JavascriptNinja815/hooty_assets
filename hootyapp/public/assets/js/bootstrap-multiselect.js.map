{"version":3,"sources":["src/bootstrap-multiselect.js"],"names":["root","factory","define","amd","require","specified","jQuery","ko","$","bindingHandlers","multiselect","after","init","element","valueAccessor","allBindings","viewModel","bindingContext","$element","config","toJS","has","options","get","isObservable","computed","read","setTimeout","ms","data","updateOriginalOptions","disposeWhenNodeIsRemoved","value","extend","rateLimit","notifyWhenChangesStop","selectedOptions","setEnabled","enable","disable","utils","domNodeDisposal","addDisposeCallback","update","forEach","array","callback","index","length","Multiselect","select","$select","mergeOptions","attr","nonSelectedText","originalOptions","clone","query","searchTimeout","lastToggledInput","multiple","onChange","proxy","onSelectAll","onDeselectAll","onDropdownShow","onDropdownHide","onDropdownShown","onDropdownHidden","onInitialized","onFiltering","buildContainer","buildButton","buildDropdown","buildReset","buildSelectAll","buildDropdownOptions","buildFilter","updateButtonText","updateSelectAll","enableClickableOptGroups","updateOptGroups","wasDisabled","prop","disableIfEmpty","wrap","$container","prototype","defaults","buttonText","disabledText","allSelectedText","selectAllNumber","numberDisplayed","nSelectedText","selected","delimiter","delimiterText","each","label","undefined","text","substr","buttonTitle","checkboxName","option","optionLabel","optionClass","checked","event","$filter","enableHTML","buttonClass","inheritClass","buttonWidth","buttonContainer","dropRight","dropUp","selectedClass","maxHeight","includeSelectAllOption","includeSelectAllIfMoreThan","selectAllText","selectAllValue","selectAllName","selectAllJustVisible","enableFiltering","enableCaseInsensitiveFiltering","enableFullValueFiltering","enableCollapsibleOptGroups","collapseOptGroupsByDefault","filterPlaceholder","filterBehavior","includeFilterClearBtn","preventInputChangeEvent","includeResetOption","includeResetDivider","resetText","templates","button","ul","filter","filterClearBtn","li","divider","liGroup","resetButton","constructor","on","$button","addClass","css","tabindex","prepend","$ul","height","Math","min","moveCalc","append","children","tag","toLowerCase","createOptgroup","createDivider","createOptionValue","off","$target","target","isSelectAllOption","val","closest","removeClass","$option","getOptionByValue","$optionsNotThis","not","$checkboxesNotThis","selectAll","deselectAll","click","change","e","shiftKey","stopPropagation","is","preventDefault","find","from","parents","to","tmp","range","slice","toggleClass","i","j","$checkbox","trigger","blur","keyCode","hasClass","$items","$current","eq","focus","$li","$group","nextUntil","$inputs","values","$options","input","push","visible","hide","show","classes","inputType","$label","parent","html","name","$divider","group","$resetButton","clearSelection","toString","alreadyHasSelectAll","hasSelectAll","includeSelectAllDivider","enableFilterLength","max","clearBtn","clearTimeout","which","asyncFunction","currentGroup","currentGroupVisible","filterCandidate","showElement","valueToMatch","trim","substring","indexOf","destroy","remove","refresh","inputs","$elem","$input","selectValues","triggerOnChange","isArray","getInputByValue","deselect","deselectValues","justVisible","triggerOnSelectAll","allLis","visibleLis","triggerOnDeselectAll","rebuild","dataprovider","groupCounter","empty","$tag","disabled","subOption","attributes","title","key","setOptions","$groups","notTriggerOnSelectAll","allBoxes","allBoxesLength","checkedBoxesLength","selectAllLi","selectAllInput","getSelected","valueToCompare","checkboxes","checkbox","timeout","self","args","Array","call","arguments","apply","window","setAllSelectedText","fn","parameter","extraOptions","Constructor"],"mappings":"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","sourcesContent":["/**\n * Bootstrap Multiselect (http://davidstutz.de/bootstrap-multiselect/)\n *\n * Apache License, Version 2.0:\n * Copyright (c) 2012 - 2018 David Stutz\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License. You may obtain a\n * copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n *\n * BSD 3-Clause License:\n * Copyright (c) 2012 - 2018 David Stutz\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    - Redistributions of source code must retain the above copyright notice,\n *      this list of conditions and the following disclaimer.\n *    - Redistributions in binary form must reproduce the above copyright notice,\n *      this list of conditions and the following disclaimer in the documentation\n *      and/or other materials provided with the distribution.\n *    - Neither the name of David Stutz nor the names of its contributors may be\n *      used to endorse or promote products derived from this software without\n *      specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n(function (root, factory) {\n  // check to see if 'knockout' AMD module is specified if using requirejs\n  if (typeof define === 'function' && define.amd && typeof require === 'function' && typeof require.specified === 'function' && require.specified('knockout')) {\n    // AMD. Register as an anonymous module.\n    define(['jquery', 'knockout'], factory)\n  } else {\n    // Browser globals\n    factory(root.jQuery, root.ko)\n  }\n})(this, function ($, ko) {\n  'use strict' // jshint ;_;\n\n  if (typeof ko !== 'undefined' && ko.bindingHandlers && !ko.bindingHandlers.multiselect) {\n    ko.bindingHandlers.multiselect = {\n      after: ['options', 'value', 'selectedOptions', 'enable', 'disable'],\n      init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var $element = $(element)\n        var config = ko.toJS(valueAccessor())\n        $element.multiselect(config)\n\n        if (allBindings.has('options')) {\n          var options = allBindings.get('options')\n\n          if (ko.isObservable(options)) {\n            ko.computed({\n              read: function () {\n                options()\n                setTimeout(function () {\n                  var ms = $element.data('multiselect')\n                  if (ms) ms.updateOriginalOptions() // Not sure how beneficial this is.\n\n                  $element.multiselect('rebuild')\n                }, 1)\n              },\n              disposeWhenNodeIsRemoved: element\n            })\n          }\n        } // value and selectedOptions are two-way, so these will be triggered even by our own actions.\n        // It needs some way to tell if they are triggered because of us or because of outside change.\n        // It doesn't loop but it's a waste of processing.\n\n        if (allBindings.has('value')) {\n          var value = allBindings.get('value')\n\n          if (ko.isObservable(value)) {\n            ko.computed({\n              read: function () {\n                value()\n                setTimeout(function () {\n                  $element.multiselect('refresh')\n                }, 1)\n              },\n              disposeWhenNodeIsRemoved: element\n            }).extend({\n              rateLimit: 100,\n              notifyWhenChangesStop: true\n            })\n          }\n        } // Switched from arrayChange subscription to general subscription using 'refresh'.\n        // Not sure performance is any better using 'select' and 'deselect'.\n\n        if (allBindings.has('selectedOptions')) {\n          var selectedOptions = allBindings.get('selectedOptions')\n\n          if (ko.isObservable(selectedOptions)) {\n            ko.computed({\n              read: function () {\n                selectedOptions()\n                setTimeout(function () {\n                  $element.multiselect('refresh')\n                }, 1)\n              },\n              disposeWhenNodeIsRemoved: element\n            }).extend({\n              rateLimit: 100,\n              notifyWhenChangesStop: true\n            })\n          }\n        }\n\n        var setEnabled = function (enable) {\n          setTimeout(function () {\n            if (enable) $element.multiselect('enable'); else $element.multiselect('disable')\n          })\n        }\n\n        if (allBindings.has('enable')) {\n          var enable = allBindings.get('enable')\n\n          if (ko.isObservable(enable)) {\n            ko.computed({\n              read: function () {\n                setEnabled(enable())\n              },\n              disposeWhenNodeIsRemoved: element\n            }).extend({\n              rateLimit: 100,\n              notifyWhenChangesStop: true\n            })\n          } else {\n            setEnabled(enable)\n          }\n        }\n\n        if (allBindings.has('disable')) {\n          var disable = allBindings.get('disable')\n\n          if (ko.isObservable(disable)) {\n            ko.computed({\n              read: function () {\n                setEnabled(!disable())\n              },\n              disposeWhenNodeIsRemoved: element\n            }).extend({\n              rateLimit: 100,\n              notifyWhenChangesStop: true\n            })\n          } else {\n            setEnabled(!disable)\n          }\n        }\n\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n          $element.multiselect('destroy')\n        })\n      },\n      update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var $element = $(element)\n        var config = ko.toJS(valueAccessor())\n        $element.multiselect('setOptions', config)\n        $element.multiselect('rebuild')\n      }\n    }\n  }\n\n  function forEach (array, callback) {\n    for (var index = 0; index < array.length; ++index) {\n      callback(array[index], index)\n    }\n  }\n  /**\n   * Constructor to create a new multiselect using the given select.\n   *\n   * @param {jQuery} select\n   * @param {Object} options\n   * @returns {Multiselect}\n   */\n\n  function Multiselect (select, options) {\n    this.$select = $(select)\n    this.options = this.mergeOptions($.extend({}, options, this.$select.data())) // Placeholder via data attributes\n\n    if (this.$select.attr('data-placeholder')) {\n      this.options.nonSelectedText = this.$select.data('placeholder')\n    } // Initialization.\n    // We have to clone to create a new reference.\n\n    this.originalOptions = this.$select.clone()[0].options\n    this.query = ''\n    this.searchTimeout = null\n    this.lastToggledInput = null\n    this.options.multiple = this.$select.attr('multiple') === 'multiple'\n    this.options.onChange = $.proxy(this.options.onChange, this)\n    this.options.onSelectAll = $.proxy(this.options.onSelectAll, this)\n    this.options.onDeselectAll = $.proxy(this.options.onDeselectAll, this)\n    this.options.onDropdownShow = $.proxy(this.options.onDropdownShow, this)\n    this.options.onDropdownHide = $.proxy(this.options.onDropdownHide, this)\n    this.options.onDropdownShown = $.proxy(this.options.onDropdownShown, this)\n    this.options.onDropdownHidden = $.proxy(this.options.onDropdownHidden, this)\n    this.options.onInitialized = $.proxy(this.options.onInitialized, this)\n    this.options.onFiltering = $.proxy(this.options.onFiltering, this) // Build select all if enabled.\n\n    this.buildContainer()\n    this.buildButton()\n    this.buildDropdown()\n    this.buildReset()\n    this.buildSelectAll()\n    this.buildDropdownOptions()\n    this.buildFilter()\n    this.updateButtonText()\n    this.updateSelectAll(true)\n\n    if (this.options.enableClickableOptGroups && this.options.multiple) {\n      this.updateOptGroups()\n    }\n\n    this.options.wasDisabled = this.$select.prop('disabled')\n\n    if (this.options.disableIfEmpty && $('option', this.$select).length <= 0) {\n      this.disable()\n    }\n\n    this.$select.wrap('<span class=\"multiselect-native-select\" />').after(this.$container)\n    this.options.onInitialized(this.$select, this.$container)\n  }\n\n  Multiselect.prototype = {\n    defaults: {\n      /**\n       * Default text function will either print 'None selected' in case no\n       * option is selected or a list of the selected options up to a length\n       * of 3 selected options.\n       *\n       * @param {jQuery} options\n       * @param {jQuery} select\n       * @returns {String}\n       */\n      buttonText: function (options, select) {\n        if (this.disabledText.length > 0 && (select.prop('disabled') || options.length == 0 && this.disableIfEmpty)) {\n          return this.disabledText\n        } else if (options.length === 0) {\n          return this.nonSelectedText\n        } else if (this.allSelectedText && options.length === $('option', $(select)).length && $('option', $(select)).length !== 1 && this.multiple) {\n          if (this.selectAllNumber) {\n            return this.allSelectedText + ' (' + options.length + ')'\n          } else {\n            return this.allSelectedText\n          }\n        } else if (this.numberDisplayed != 0 && options.length > this.numberDisplayed) {\n          return options.length + ' ' + this.nSelectedText\n        } else {\n          var selected = ''\n          var delimiter = this.delimiterText\n          options.each(function () {\n            var label = $(this).attr('label') !== undefined ? $(this).attr('label') : $(this).text()\n            selected += label + delimiter\n          })\n          return selected.substr(0, selected.length - this.delimiterText.length)\n        }\n      },\n\n      /**\n       * Updates the title of the button similar to the buttonText function.\n       *\n       * @param {jQuery} options\n       * @param {jQuery} select\n       * @returns {@exp;selected@call;substr}\n       */\n      buttonTitle: function (options, select) {\n        if (options.length === 0) {\n          return this.nonSelectedText\n        } else {\n          var selected = ''\n          var delimiter = this.delimiterText\n          options.each(function () {\n            var label = $(this).attr('label') !== undefined ? $(this).attr('label') : $(this).text()\n            selected += label + delimiter\n          })\n          return selected.substr(0, selected.length - this.delimiterText.length)\n        }\n      },\n      checkboxName: function (option) {\n        return false // no checkbox name\n      },\n\n      /**\n       * Create a label.\n       *\n       * @param {jQuery} element\n       * @returns {String}\n       */\n      optionLabel: function (element) {\n        return $(element).attr('label') || $(element).text()\n      },\n\n      /**\n       * Create a class.\n       *\n       * @param {jQuery} element\n       * @returns {String}\n       */\n      optionClass: function (element) {\n        return $(element).attr('class') || ''\n      },\n\n      /**\n       * Triggered on change of the multiselect.\n       *\n       * Not triggered when selecting/deselecting options manually.\n       *\n       * @param {jQuery} option\n       * @param {Boolean} checked\n       */\n      onChange: function (option, checked) {},\n\n      /**\n       * Triggered when the dropdown is shown.\n       *\n       * @param {jQuery} event\n       */\n      onDropdownShow: function (event) {},\n\n      /**\n       * Triggered when the dropdown is hidden.\n       *\n       * @param {jQuery} event\n       */\n      onDropdownHide: function (event) {},\n\n      /**\n       * Triggered after the dropdown is shown.\n       *\n       * @param {jQuery} event\n       */\n      onDropdownShown: function (event) {},\n\n      /**\n       * Triggered after the dropdown is hidden.\n       *\n       * @param {jQuery} event\n       */\n      onDropdownHidden: function (event) {},\n\n      /**\n       * Triggered on select all.\n       */\n      onSelectAll: function () {},\n\n      /**\n       * Triggered on deselect all.\n       */\n      onDeselectAll: function () {},\n\n      /**\n       * Triggered after initializing.\n       *\n       * @param {jQuery} $select\n       * @param {jQuery} $container\n       */\n      onInitialized: function ($select, $container) {},\n\n      /**\n       * Triggered on filtering.\n       *\n       * @param {jQuery} $filter\n       */\n      onFiltering: function ($filter) {},\n      enableHTML: false,\n      buttonClass: 'btn btn-default',\n      inheritClass: false,\n      buttonWidth: 'auto',\n      buttonContainer: '<div class=\"btn-group\" />',\n      dropRight: false,\n      dropUp: false,\n      selectedClass: 'active',\n      // Maximum height of the dropdown menu.\n      // If maximum height is exceeded a scrollbar will be displayed.\n      maxHeight: false,\n      includeSelectAllOption: false,\n      includeSelectAllIfMoreThan: 0,\n      selectAllText: ' Select all',\n      selectAllValue: 'multiselect-all',\n      selectAllName: false,\n      selectAllNumber: true,\n      selectAllJustVisible: true,\n      enableFiltering: false,\n      enableCaseInsensitiveFiltering: false,\n      enableFullValueFiltering: false,\n      enableClickableOptGroups: false,\n      enableCollapsibleOptGroups: false,\n      collapseOptGroupsByDefault: false,\n      filterPlaceholder: 'Search',\n      // possible options: 'text', 'value', 'both'\n      filterBehavior: 'text',\n      includeFilterClearBtn: true,\n      preventInputChangeEvent: false,\n      nonSelectedText: 'None selected',\n      nSelectedText: 'selected',\n      allSelectedText: 'All selected',\n      numberDisplayed: 3,\n      disableIfEmpty: false,\n      disabledText: '',\n      delimiterText: ', ',\n      includeResetOption: false,\n      includeResetDivider: false,\n      resetText: 'Reset',\n      templates: {\n        button: '<button type=\"button\" class=\"multiselect dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"multiselect-selected-text\"></span> <b class=\"caret\"></b></button>',\n        ul: '<ul class=\"multiselect-container dropdown-menu\"></ul>',\n        filter: '<li class=\"multiselect-item multiselect-filter\"><div class=\"input-group\"><span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-search\"></i></span><input class=\"form-control multiselect-search\" type=\"text\" /></div></li>',\n        filterClearBtn: '<span class=\"input-group-btn\"><button class=\"btn btn-default multiselect-clear-filter\" type=\"button\"><i class=\"glyphicon glyphicon-remove-circle\"></i></button></span>',\n        li: '<li><a tabindex=\"0\"><label></label></a></li>',\n        divider: '<li class=\"multiselect-item divider\"></li>',\n        liGroup: '<li class=\"multiselect-item multiselect-group\"><label></label></li>',\n        resetButton: '<li class=\"multiselect-reset text-center\"><div class=\"input-group\"><a class=\"btn btn-default btn-block\"></a></div></li>'\n      }\n    },\n    constructor: Multiselect,\n\n    /**\n     * Builds the container of the multiselect.\n     */\n    buildContainer: function () {\n      this.$container = $(this.options.buttonContainer)\n      this.$container.on('show.bs.dropdown', this.options.onDropdownShow)\n      this.$container.on('hide.bs.dropdown', this.options.onDropdownHide)\n      this.$container.on('shown.bs.dropdown', this.options.onDropdownShown)\n      this.$container.on('hidden.bs.dropdown', this.options.onDropdownHidden)\n    },\n\n    /**\n     * Builds the button of the multiselect.\n     */\n    buildButton: function () {\n      this.$button = $(this.options.templates.button).addClass(this.options.buttonClass)\n\n      if (this.$select.attr('class') && this.options.inheritClass) {\n        this.$button.addClass(this.$select.attr('class'))\n      } // Adopt active state.\n\n      if (this.$select.prop('disabled')) {\n        this.disable()\n      } else {\n        this.enable()\n      } // Manually add button width if set.\n\n      if (this.options.buttonWidth && this.options.buttonWidth !== 'auto') {\n        this.$button.css({\n          'width': '100%',\n          // this.options.buttonWidth,\n          'overflow': 'hidden',\n          'text-overflow': 'ellipsis'\n        })\n        this.$container.css({\n          'width': this.options.buttonWidth\n        })\n      } // Keep the tab index from the select.\n\n      var tabindex = this.$select.attr('tabindex')\n\n      if (tabindex) {\n        this.$button.attr('tabindex', tabindex)\n      }\n\n      this.$container.prepend(this.$button)\n    },\n\n    /**\n     * Builds the ul representing the dropdown menu.\n     */\n    buildDropdown: function () {\n      // Build ul.\n      this.$ul = $(this.options.templates.ul)\n\n      if (this.options.dropRight) {\n        this.$ul.addClass('pull-right')\n      } // Set max height of dropdown menu to activate auto scrollbar.\n\n      if (this.options.maxHeight) {\n        // TODO: Add a class for this option to move the css declarations.\n        this.$ul.css({\n          'max-height': this.options.maxHeight + 'px',\n          'overflow-y': 'auto',\n          'overflow-x': 'hidden'\n        })\n      }\n\n      if (this.options.dropUp) {\n        var height = Math.min(this.options.maxHeight, $('option[data-role!=\"divider\"]', this.$select).length * 26 + $('option[data-role=\"divider\"]', this.$select).length * 19 + (this.options.includeSelectAllOption ? 26 : 0) + (this.options.enableFiltering || this.options.enableCaseInsensitiveFiltering ? 44 : 0))\n        var moveCalc = height + 34\n        this.$ul.css({\n          'max-height': height + 'px',\n          'overflow-y': 'auto',\n          'overflow-x': 'hidden',\n          'margin-top': '-' + moveCalc + 'px'\n        })\n      }\n\n      this.$container.append(this.$ul)\n    },\n\n    /**\n     * Build the dropdown options and binds all necessary events.\n     *\n     * Uses createDivider and createOptionValue to create the necessary options.\n     */\n    buildDropdownOptions: function () {\n      this.$select.children().each($.proxy(function (index, element) {\n        var $element = $(element) // Support optgroups and options without a group simultaneously.\n\n        var tag = $element.prop('tagName').toLowerCase()\n\n        if ($element.prop('value') === this.options.selectAllValue) {\n          return\n        }\n\n        if (tag === 'optgroup') {\n          this.createOptgroup(element)\n        } else if (tag === 'option') {\n          if ($element.data('role') === 'divider') {\n            this.createDivider()\n          } else {\n            this.createOptionValue(element)\n          }\n        } // Other illegal tags will be ignored.\n      }, this)) // Bind the change event on the dropdown elements.\n\n      $(this.$ul).off('change', 'li:not(.multiselect-group) input[type=\"checkbox\"], li:not(.multiselect-group) input[type=\"radio\"]')\n      $(this.$ul).on('change', 'li:not(.multiselect-group) input[type=\"checkbox\"], li:not(.multiselect-group) input[type=\"radio\"]', $.proxy(function (event) {\n        var $target = $(event.target)\n        var checked = $target.prop('checked') || false\n        var isSelectAllOption = $target.val() === this.options.selectAllValue // Apply or unapply the configured selected class.\n\n        if (this.options.selectedClass) {\n          if (checked) {\n            $target.closest('li').addClass(this.options.selectedClass)\n          } else {\n            $target.closest('li').removeClass(this.options.selectedClass)\n          }\n        } // Get the corresponding option.\n\n        var value = $target.val()\n        var $option = this.getOptionByValue(value)\n        var $optionsNotThis = $('option', this.$select).not($option)\n        var $checkboxesNotThis = $('input', this.$container).not($target)\n\n        if (isSelectAllOption) {\n          if (checked) {\n            this.selectAll(this.options.selectAllJustVisible, true)\n          } else {\n            this.deselectAll(this.options.selectAllJustVisible, true)\n          }\n        } else {\n          if (checked) {\n            $option.prop('selected', true)\n\n            if (this.options.multiple) {\n              // Simply select additional option.\n              $option.prop('selected', true)\n            } else {\n              // Unselect all other options and corresponding checkboxes.\n              if (this.options.selectedClass) {\n                $($checkboxesNotThis).closest('li').removeClass(this.options.selectedClass)\n              }\n\n              $($checkboxesNotThis).prop('checked', false)\n              $optionsNotThis.prop('selected', false) // It's a single selection, so close.\n\n              this.$button.click()\n            }\n\n            if (this.options.selectedClass === 'active') {\n              $optionsNotThis.closest('a').css('outline', '')\n            }\n          } else {\n            // Unselect option.\n            $option.prop('selected', false)\n          } // To prevent select all from firing onChange: #575\n\n          this.options.onChange($option, checked) // Do not update select all or optgroups on select all change!\n\n          this.updateSelectAll()\n\n          if (this.options.enableClickableOptGroups && this.options.multiple) {\n            this.updateOptGroups()\n          }\n        }\n\n        this.$select.change()\n        this.updateButtonText()\n\n        if (this.options.preventInputChangeEvent) {\n          return false\n        }\n      }, this))\n      $('li a', this.$ul).on('mousedown', function (e) {\n        if (e.shiftKey) {\n          // Prevent selecting text by Shift+click\n          return false\n        }\n      })\n      $(this.$ul).on('touchstart click', 'li a', $.proxy(function (event) {\n        event.stopPropagation()\n        var $target = $(event.target)\n\n        if (event.shiftKey && this.options.multiple) {\n          if ($target.is('label')) {\n            // Handles checkbox selection manually (see https://github.com/davidstutz/bootstrap-multiselect/issues/431)\n            event.preventDefault()\n            $target = $target.find('input')\n            $target.prop('checked', !$target.prop('checked'))\n          }\n\n          var checked = $target.prop('checked') || false\n\n          if (this.lastToggledInput !== null && this.lastToggledInput !== $target) {\n            // Make sure we actually have a range\n            var from = this.$ul.find('li:visible').index($target.parents('li'))\n            var to = this.$ul.find('li:visible').index(this.lastToggledInput.parents('li'))\n\n            if (from > to) {\n              // Swap the indices\n              var tmp = to\n              to = from\n              from = tmp\n            } // Make sure we grab all elements since slice excludes the last index\n\n            ++to // Change the checkboxes and underlying options\n\n            var range = this.$ul.find('li').not('.multiselect-filter-hidden').slice(from, to).find('input')\n            range.prop('checked', checked)\n\n            if (this.options.selectedClass) {\n              range.closest('li').toggleClass(this.options.selectedClass, checked)\n            }\n\n            for (var i = 0, j = range.length; i < j; i++) {\n              var $checkbox = $(range[i])\n              var $option = this.getOptionByValue($checkbox.val())\n              $option.prop('selected', checked)\n            }\n          } // Trigger the select \"change\" event\n\n          $target.trigger('change')\n        } // Remembers last clicked option\n\n        if ($target.is('input') && !$target.closest('li').is('.multiselect-item')) {\n          this.lastToggledInput = $target\n        }\n\n        $target.blur()\n      }, this)) // Keyboard support.\n\n      this.$container.off('keydown.multiselect').on('keydown.multiselect', $.proxy(function (event) {\n        if ($('input[type=\"text\"]', this.$container).is(':focus')) {\n          return\n        }\n\n        if (event.keyCode === 9 && this.$container.hasClass('open')) {\n          this.$button.click()\n        } else {\n          var $items = $(this.$container).find('li:not(.divider):not(.disabled) a').filter(':visible')\n\n          if (!$items.length) {\n            return\n          }\n\n          var index = $items.index($items.filter(':focus')) // Navigation up.\n\n          if (event.keyCode === 38 && index > 0) {\n            index--\n          } // Navigate down.\n          else if (event.keyCode === 40 && index < $items.length - 1) {\n            index++\n          } else if (!~index) {\n            index = 0\n          }\n\n          var $current = $items.eq(index)\n          $current.focus()\n\n          if (event.keyCode === 32 || event.keyCode === 13) {\n            var $checkbox = $current.find('input')\n            $checkbox.prop('checked', !$checkbox.prop('checked'))\n            $checkbox.change()\n          }\n\n          event.stopPropagation()\n          event.preventDefault()\n        }\n      }, this))\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        $('li.multiselect-group input', this.$ul).on('change', $.proxy(function (event) {\n          event.stopPropagation()\n          var $target = $(event.target)\n          var checked = $target.prop('checked') || false\n          var $li = $(event.target).closest('li')\n          var $group = $li.nextUntil('li.multiselect-group').not('.multiselect-filter-hidden').not('.disabled')\n          var $inputs = $group.find('input')\n          var values = []\n          var $options = []\n\n          if (this.options.selectedClass) {\n            if (checked) {\n              $li.addClass(this.options.selectedClass)\n            } else {\n              $li.removeClass(this.options.selectedClass)\n            }\n          }\n\n          $.each($inputs, $.proxy(function (index, input) {\n            var value = $(input).val()\n            var $option = this.getOptionByValue(value)\n\n            if (checked) {\n              $(input).prop('checked', true)\n              $(input).closest('li').addClass(this.options.selectedClass)\n              $option.prop('selected', true)\n            } else {\n              $(input).prop('checked', false)\n              $(input).closest('li').removeClass(this.options.selectedClass)\n              $option.prop('selected', false)\n            }\n\n            $options.push(this.getOptionByValue(value))\n          }, this)) // Cannot use select or deselect here because it would call updateOptGroups again.\n\n          this.options.onChange($options, checked)\n          this.$select.change()\n          this.updateButtonText()\n          this.updateSelectAll()\n        }, this))\n      }\n\n      if (this.options.enableCollapsibleOptGroups && this.options.multiple) {\n        $('li.multiselect-group .caret-container', this.$ul).on('click', $.proxy(function (event) {\n          var $li = $(event.target).closest('li')\n          var $inputs = $li.nextUntil('li.multiselect-group').not('.multiselect-filter-hidden')\n          var visible = true\n          $inputs.each(function () {\n            visible = visible && !$(this).hasClass('multiselect-collapsible-hidden')\n          })\n\n          if (visible) {\n            $inputs.hide().addClass('multiselect-collapsible-hidden')\n          } else {\n            $inputs.show().removeClass('multiselect-collapsible-hidden')\n          }\n        }, this))\n        $('li.multiselect-all', this.$ul).css('background', '#f3f3f3').css('border-bottom', '1px solid #eaeaea')\n        $('li.multiselect-all > a > label.checkbox', this.$ul).css('padding', '3px 20px 3px 35px')\n        $('li.multiselect-group > a > input', this.$ul).css('margin', '4px 0px 5px -20px')\n      }\n    },\n\n    /**\n     * Create an option using the given select option.\n     *\n     * @param {jQuery} element\n     */\n    createOptionValue: function (element) {\n      var $element = $(element)\n\n      if ($element.is(':selected')) {\n        $element.prop('selected', true)\n      } // Support the label attribute on options.\n\n      var label = this.options.optionLabel(element)\n      var classes = this.options.optionClass(element)\n      var value = $element.val()\n      var inputType = this.options.multiple ? 'checkbox' : 'radio'\n      var $li = $(this.options.templates.li)\n      var $label = $('label', $li)\n      $label.addClass(inputType)\n      $label.attr('title', label)\n      $li.addClass(classes) // Hide all children items when collapseOptGroupsByDefault is true\n\n      if (this.options.collapseOptGroupsByDefault && $(element).parent().prop('tagName').toLowerCase() === 'optgroup') {\n        $li.addClass('multiselect-collapsible-hidden')\n        $li.hide()\n      }\n\n      if (this.options.enableHTML) {\n        $label.html(' ' + label)\n      } else {\n        $label.text(' ' + label)\n      }\n\n      var $checkbox = $('<input/>').attr('type', inputType)\n      var name = this.options.checkboxName($element)\n\n      if (name) {\n        $checkbox.attr('name', name)\n      }\n\n      $label.prepend($checkbox)\n      var selected = $element.prop('selected') || false\n      $checkbox.val(value)\n\n      if (value === this.options.selectAllValue) {\n        $li.addClass('multiselect-item multiselect-all')\n        $checkbox.parent().parent().addClass('multiselect-all')\n      }\n\n      $label.attr('title', $element.attr('title'))\n      this.$ul.append($li)\n\n      if ($element.is(':disabled')) {\n        $checkbox.attr('disabled', 'disabled').prop('disabled', true).closest('a').attr('tabindex', '-1').closest('li').addClass('disabled')\n      }\n\n      $checkbox.prop('checked', selected)\n\n      if (selected && this.options.selectedClass) {\n        $checkbox.closest('li').addClass(this.options.selectedClass)\n      }\n    },\n\n    /**\n     * Creates a divider using the given select option.\n     *\n     * @param {jQuery} element\n     */\n    createDivider: function (element) {\n      var $divider = $(this.options.templates.divider)\n      this.$ul.append($divider)\n    },\n\n    /**\n     * Creates an optgroup.\n     *\n     * @param {jQuery} group\n     */\n    createOptgroup: function (group) {\n      var label = $(group).attr('label')\n      var value = $(group).attr('value')\n      var $li = $('<li class=\"multiselect-item multiselect-group\"><a href=\"javascript:void(0);\"><label><b></b></label></a></li>')\n      var classes = this.options.optionClass(group)\n      $li.addClass(classes)\n\n      if (this.options.enableHTML) {\n        $('label b', $li).html(' ' + label)\n      } else {\n        $('label b', $li).text(' ' + label)\n      }\n\n      if (this.options.enableCollapsibleOptGroups && this.options.multiple) {\n        $('a', $li).append('<span class=\"caret-container\"><b class=\"caret\"></b></span>')\n      }\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        $('a label', $li).prepend('<input type=\"checkbox\" value=\"' + value + '\"/>')\n      }\n\n      if ($(group).is(':disabled')) {\n        $li.addClass('disabled')\n      }\n\n      this.$ul.append($li)\n      $('option', group).each($.proxy(function ($, group) {\n        this.createOptionValue(group)\n      }, this))\n    },\n\n    /**\n     * Build the reset.\n     *\n     */\n    buildReset: function () {\n      if (this.options.includeResetOption) {\n        // Check whether to add a divider after the reset.\n        if (this.options.includeResetDivider) {\n          this.$ul.prepend($(this.options.templates.divider))\n        }\n\n        var $resetButton = $(this.options.templates.resetButton)\n\n        if (this.options.enableHTML) {\n          $('a', $resetButton).html(this.options.resetText)\n        } else {\n          $('a', $resetButton).text(this.options.resetText)\n        }\n\n        $('a', $resetButton).click($.proxy(function () {\n          this.clearSelection()\n        }, this))\n        this.$ul.prepend($resetButton)\n      }\n    },\n\n    /**\n     * Build the select all.\n     *\n     * Checks if a select all has already been created.\n     */\n    buildSelectAll: function () {\n      if (typeof this.options.selectAllValue === 'number') {\n        this.options.selectAllValue = this.options.selectAllValue.toString()\n      }\n\n      var alreadyHasSelectAll = this.hasSelectAll()\n\n      if (!alreadyHasSelectAll && this.options.includeSelectAllOption && this.options.multiple && $('option', this.$select).length > this.options.includeSelectAllIfMoreThan) {\n        // Check whether to add a divider after the select all.\n        if (this.options.includeSelectAllDivider) {\n          this.$ul.prepend($(this.options.templates.divider))\n        }\n\n        var $li = $(this.options.templates.li)\n        $('label', $li).addClass('checkbox')\n\n        if (this.options.enableHTML) {\n          $('label', $li).html(' ' + this.options.selectAllText)\n        } else {\n          $('label', $li).text(' ' + this.options.selectAllText)\n        }\n\n        if (this.options.selectAllName) {\n          $('label', $li).prepend('<input type=\"checkbox\" name=\"' + this.options.selectAllName + '\" />')\n        } else {\n          $('label', $li).prepend('<input type=\"checkbox\" />')\n        }\n\n        var $checkbox = $('input', $li)\n        $checkbox.val(this.options.selectAllValue)\n        $li.addClass('multiselect-item multiselect-all')\n        $checkbox.parent().parent().addClass('multiselect-all')\n        this.$ul.prepend($li)\n        $checkbox.prop('checked', false)\n      }\n    },\n\n    /**\n     * Builds the filter.\n     */\n    buildFilter: function () {\n      // Build filter if filtering OR case insensitive filtering is enabled and the number of options exceeds (or equals) enableFilterLength.\n      if (this.options.enableFiltering || this.options.enableCaseInsensitiveFiltering) {\n        var enableFilterLength = Math.max(this.options.enableFiltering, this.options.enableCaseInsensitiveFiltering)\n\n        if (this.$select.find('option').length >= enableFilterLength) {\n          this.$filter = $(this.options.templates.filter)\n          $('input', this.$filter).attr('placeholder', this.options.filterPlaceholder) // Adds optional filter clear button\n\n          if (this.options.includeFilterClearBtn) {\n            var clearBtn = $(this.options.templates.filterClearBtn)\n            clearBtn.on('click', $.proxy(function (event) {\n              clearTimeout(this.searchTimeout)\n              this.query = ''\n              this.$filter.find('.multiselect-search').val('')\n              $('li', this.$ul).show().removeClass('multiselect-filter-hidden')\n              this.updateSelectAll()\n\n              if (this.options.enableClickableOptGroups && this.options.multiple) {\n                this.updateOptGroups()\n              }\n            }, this))\n            this.$filter.find('.input-group').append(clearBtn)\n          }\n\n          this.$ul.prepend(this.$filter)\n          this.$filter.val(this.query).on('click', function (event) {\n            event.stopPropagation()\n          }).on('input keydown', $.proxy(function (event) {\n            // Cancel enter key default behaviour\n            if (event.which === 13) {\n              event.preventDefault()\n            } // This is useful to catch \"keydown\" events after the browser has updated the control.\n\n            clearTimeout(this.searchTimeout)\n            this.searchTimeout = this.asyncFunction($.proxy(function () {\n              if (this.query !== event.target.value) {\n                this.query = event.target.value\n                var currentGroup, currentGroupVisible\n                $.each($('li', this.$ul), $.proxy(function (index, element) {\n                  var value = $('input', element).length > 0 ? $('input', element).val() : ''\n                  var text = $('label', element).text()\n                  var filterCandidate = ''\n\n                  if (this.options.filterBehavior === 'text') {\n                    filterCandidate = text\n                  } else if (this.options.filterBehavior === 'value') {\n                    filterCandidate = value\n                  } else if (this.options.filterBehavior === 'both') {\n                    filterCandidate = text + '\\n' + value\n                  }\n\n                  if (value !== this.options.selectAllValue && text) {\n                    // By default lets assume that element is not\n                    // interesting for this search.\n                    var showElement = false\n\n                    if (this.options.enableCaseInsensitiveFiltering) {\n                      filterCandidate = filterCandidate.toLowerCase()\n                      this.query = this.query.toLowerCase()\n                    }\n\n                    if (this.options.enableFullValueFiltering && this.options.filterBehavior !== 'both') {\n                      var valueToMatch = filterCandidate.trim().substring(0, this.query.length)\n\n                      if (this.query.indexOf(valueToMatch) > -1) {\n                        showElement = true\n                      }\n                    } else if (filterCandidate.indexOf(this.query) > -1) {\n                      showElement = true\n                    } // Toggle current element (group or group item) according to showElement boolean.\n\n                    if (!showElement) {\n                      $(element).css('display', 'none')\n                      $(element).addClass('multiselect-filter-hidden')\n                    }\n\n                    if (showElement) {\n                      $(element).css('display', 'block')\n                      $(element).removeClass('multiselect-filter-hidden')\n                    } // Differentiate groups and group items.\n\n                    if ($(element).hasClass('multiselect-group')) {\n                      // Remember group status.\n                      currentGroup = element\n                      currentGroupVisible = showElement\n                    } else {\n                      // Show group name when at least one of its items is visible.\n                      if (showElement) {\n                        $(currentGroup).show().removeClass('multiselect-filter-hidden')\n                      } // Show all group items when group name satisfies filter.\n\n                      if (!showElement && currentGroupVisible) {\n                        $(element).show().removeClass('multiselect-filter-hidden')\n                      }\n                    }\n                  }\n                }, this))\n              }\n\n              this.updateSelectAll()\n\n              if (this.options.enableClickableOptGroups && this.options.multiple) {\n                this.updateOptGroups()\n              }\n\n              this.options.onFiltering(event.target)\n            }, this), 300, this)\n          }, this))\n        }\n      }\n    },\n\n    /**\n     * Unbinds the whole plugin.\n     */\n    destroy: function () {\n      this.$container.remove()\n      this.$select.show() // reset original state\n\n      this.$select.prop('disabled', this.options.wasDisabled)\n      this.$select.data('multiselect', null)\n    },\n\n    /**\n     * Refreshs the multiselect based on the selected options of the select.\n     */\n    refresh: function () {\n      var inputs = {}\n      $('li input', this.$ul).each(function () {\n        inputs[$(this).val()] = $(this)\n      })\n      $('option', this.$select).each($.proxy(function (index, element) {\n        var $elem = $(element)\n        var $input = inputs[$(element).val()]\n\n        if ($elem.is(':selected')) {\n          $input.prop('checked', true)\n\n          if (this.options.selectedClass) {\n            $input.closest('li').addClass(this.options.selectedClass)\n          }\n        } else {\n          $input.prop('checked', false)\n\n          if (this.options.selectedClass) {\n            $input.closest('li').removeClass(this.options.selectedClass)\n          }\n        }\n\n        if ($elem.is(':disabled')) {\n          $input.attr('disabled', 'disabled').prop('disabled', true).closest('li').addClass('disabled')\n        } else {\n          $input.prop('disabled', false).closest('li').removeClass('disabled')\n        }\n      }, this))\n      this.updateButtonText()\n      this.updateSelectAll()\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n    },\n\n    /**\n     * Select all options of the given values.\n     *\n     * If triggerOnChange is set to true, the on change event is triggered if\n     * and only if one value is passed.\n     *\n     * @param {Array} selectValues\n     * @param {Boolean} triggerOnChange\n     */\n    select: function (selectValues, triggerOnChange) {\n      if (!$.isArray(selectValues)) {\n        selectValues = [selectValues]\n      }\n\n      for (var i = 0; i < selectValues.length; i++) {\n        var value = selectValues[i]\n\n        if (value === null || value === undefined) {\n          continue\n        }\n\n        var $option = this.getOptionByValue(value)\n        var $checkbox = this.getInputByValue(value)\n\n        if ($option === undefined || $checkbox === undefined) {\n          continue\n        }\n\n        if (!this.options.multiple) {\n          this.deselectAll(false)\n        }\n\n        if (this.options.selectedClass) {\n          $checkbox.closest('li').addClass(this.options.selectedClass)\n        }\n\n        $checkbox.prop('checked', true)\n        $option.prop('selected', true)\n\n        if (triggerOnChange) {\n          this.options.onChange($option, true)\n        }\n      }\n\n      this.updateButtonText()\n      this.updateSelectAll()\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n    },\n\n    /**\n     * Clears all selected items.\n     */\n    clearSelection: function () {\n      this.deselectAll(false)\n      this.updateButtonText()\n      this.updateSelectAll()\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n    },\n\n    /**\n     * Deselects all options of the given values.\n     *\n     * If triggerOnChange is set to true, the on change event is triggered, if\n     * and only if one value is passed.\n     *\n     * @param {Array} deselectValues\n     * @param {Boolean} triggerOnChange\n     */\n    deselect: function (deselectValues, triggerOnChange) {\n      if (!$.isArray(deselectValues)) {\n        deselectValues = [deselectValues]\n      }\n\n      for (var i = 0; i < deselectValues.length; i++) {\n        var value = deselectValues[i]\n\n        if (value === null || value === undefined) {\n          continue\n        }\n\n        var $option = this.getOptionByValue(value)\n        var $checkbox = this.getInputByValue(value)\n\n        if ($option === undefined || $checkbox === undefined) {\n          continue\n        }\n\n        if (this.options.selectedClass) {\n          $checkbox.closest('li').removeClass(this.options.selectedClass)\n        }\n\n        $checkbox.prop('checked', false)\n        $option.prop('selected', false)\n\n        if (triggerOnChange) {\n          this.options.onChange($option, false)\n        }\n      }\n\n      this.updateButtonText()\n      this.updateSelectAll()\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n    },\n\n    /**\n     * Selects all enabled & visible options.\n     *\n     * If justVisible is true or not specified, only visible options are selected.\n     *\n     * @param {Boolean} justVisible\n     * @param {Boolean} triggerOnSelectAll\n     */\n    selectAll: function (justVisible, triggerOnSelectAll) {\n      var justVisible = typeof justVisible === 'undefined' ? true : justVisible\n      var allLis = $('li:not(.divider):not(.disabled):not(.multiselect-group)', this.$ul)\n      var visibleLis = $('li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)', this.$ul).filter(':visible')\n\n      if (justVisible) {\n        $('input:enabled', visibleLis).prop('checked', true)\n        visibleLis.addClass(this.options.selectedClass)\n        $('input:enabled', visibleLis).each($.proxy(function (index, element) {\n          var value = $(element).val()\n          var option = this.getOptionByValue(value)\n          $(option).prop('selected', true)\n        }, this))\n      } else {\n        $('input:enabled', allLis).prop('checked', true)\n        allLis.addClass(this.options.selectedClass)\n        $('input:enabled', allLis).each($.proxy(function (index, element) {\n          var value = $(element).val()\n          var option = this.getOptionByValue(value)\n          $(option).prop('selected', true)\n        }, this))\n      }\n\n      $('li input[value=\"' + this.options.selectAllValue + '\"]', this.$ul).prop('checked', true)\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n\n      if (triggerOnSelectAll) {\n        this.options.onSelectAll()\n      }\n    },\n\n    /**\n     * Deselects all options.\n     *\n     * If justVisible is true or not specified, only visible options are deselected.\n     *\n     * @param {Boolean} justVisible\n     */\n    deselectAll: function (justVisible, triggerOnDeselectAll) {\n      var justVisible = typeof justVisible === 'undefined' ? true : justVisible\n      var allLis = $('li:not(.divider):not(.disabled):not(.multiselect-group)', this.$ul)\n      var visibleLis = $('li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)', this.$ul).filter(':visible')\n\n      if (justVisible) {\n        $('input[type=\"checkbox\"]:enabled', visibleLis).prop('checked', false)\n        visibleLis.removeClass(this.options.selectedClass)\n        $('input[type=\"checkbox\"]:enabled', visibleLis).each($.proxy(function (index, element) {\n          var value = $(element).val()\n          var option = this.getOptionByValue(value)\n          $(option).prop('selected', false)\n        }, this))\n      } else {\n        $('input[type=\"checkbox\"]:enabled', allLis).prop('checked', false)\n        allLis.removeClass(this.options.selectedClass)\n        $('input[type=\"checkbox\"]:enabled', allLis).each($.proxy(function (index, element) {\n          var value = $(element).val()\n          var option = this.getOptionByValue(value)\n          $(option).prop('selected', false)\n        }, this))\n      }\n\n      $('li input[value=\"' + this.options.selectAllValue + '\"]', this.$ul).prop('checked', false)\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n\n      if (triggerOnDeselectAll) {\n        this.options.onDeselectAll()\n      }\n    },\n\n    /**\n     * Rebuild the plugin.\n     *\n     * Rebuilds the dropdown, the filter and the select all option.\n     */\n    rebuild: function () {\n      this.$ul.html('') // Important to distinguish between radios and checkboxes.\n\n      this.options.multiple = this.$select.attr('multiple') === 'multiple'\n      this.buildSelectAll()\n      this.buildDropdownOptions()\n      this.buildFilter()\n      this.updateButtonText()\n      this.updateSelectAll(true)\n\n      if (this.options.enableClickableOptGroups && this.options.multiple) {\n        this.updateOptGroups()\n      }\n\n      if (this.options.disableIfEmpty && $('option', this.$select).length <= 0) {\n        this.disable()\n      } else {\n        this.enable()\n      }\n\n      if (this.options.dropRight) {\n        this.$ul.addClass('pull-right')\n      }\n    },\n\n    /**\n     * The provided data will be used to build the dropdown.\n     */\n    dataprovider: function (dataprovider) {\n      var groupCounter = 0\n      var $select = this.$select.empty()\n      $.each(dataprovider, function (index, option) {\n        var $tag\n\n        if ($.isArray(option.children)) {\n          // create optiongroup tag\n          groupCounter++\n          $tag = $('<optgroup/>').attr({\n            label: option.label || 'Group ' + groupCounter,\n            disabled: !!option.disabled,\n            value: option.value\n          })\n          forEach(option.children, function (subOption) {\n            // add children option tags\n            var attributes = {\n              value: subOption.value,\n              label: subOption.label || subOption.value,\n              title: subOption.title,\n              selected: !!subOption.selected,\n              disabled: !!subOption.disabled\n            } // Loop through attributes object and add key-value for each attribute\n\n            for (var key in subOption.attributes) {\n              attributes['data-' + key] = subOption.attributes[key]\n            } // Append original attributes + new data attributes to option\n\n            $tag.append($('<option/>').attr(attributes))\n          })\n        } else {\n          var attributes = {\n            'value': option.value,\n            'label': option.label || option.value,\n            'title': option.title,\n            'class': option['class'],\n            'selected': !!option['selected'],\n            'disabled': !!option['disabled']\n          } // Loop through attributes object and add key-value for each attribute\n\n          for (var key in option.attributes) {\n            attributes['data-' + key] = option.attributes[key]\n          } // Append original attributes + new data attributes to option\n\n          $tag = $('<option/>').attr(attributes)\n          $tag.text(option.label || option.value)\n        }\n\n        $select.append($tag)\n      })\n      this.rebuild()\n    },\n\n    /**\n     * Enable the multiselect.\n     */\n    enable: function () {\n      this.$select.prop('disabled', false)\n      this.$button.prop('disabled', false).removeClass('disabled')\n    },\n\n    /**\n     * Disable the multiselect.\n     */\n    disable: function () {\n      this.$select.prop('disabled', true)\n      this.$button.prop('disabled', true).addClass('disabled')\n    },\n\n    /**\n     * Set the options.\n     *\n     * @param {Array} options\n     */\n    setOptions: function (options) {\n      this.options = this.mergeOptions(options)\n    },\n\n    /**\n     * Merges the given options with the default options.\n     *\n     * @param {Array} options\n     * @returns {Array}\n     */\n    mergeOptions: function (options) {\n      return $.extend(true, {}, this.defaults, this.options, options)\n    },\n\n    /**\n     * Checks whether a select all checkbox is present.\n     *\n     * @returns {Boolean}\n     */\n    hasSelectAll: function () {\n      return $('li.multiselect-all', this.$ul).length > 0\n    },\n\n    /**\n     * Update opt groups.\n     */\n    updateOptGroups: function () {\n      var $groups = $('li.multiselect-group', this.$ul)\n      var selectedClass = this.options.selectedClass\n      $groups.each(function () {\n        var $options = $(this).nextUntil('li.multiselect-group').not('.multiselect-filter-hidden').not('.disabled')\n        var checked = true\n        $options.each(function () {\n          var $input = $('input', this)\n\n          if (!$input.prop('checked')) {\n            checked = false\n          }\n        })\n\n        if (selectedClass) {\n          if (checked) {\n            $(this).addClass(selectedClass)\n          } else {\n            $(this).removeClass(selectedClass)\n          }\n        }\n\n        $('input', this).prop('checked', checked)\n      })\n    },\n\n    /**\n     * Updates the select all checkbox based on the currently displayed and selected checkboxes.\n     */\n    updateSelectAll: function (notTriggerOnSelectAll) {\n      if (this.hasSelectAll()) {\n        var allBoxes = $('li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled', this.$ul)\n        var allBoxesLength = allBoxes.length\n        var checkedBoxesLength = allBoxes.filter(':checked').length\n        var selectAllLi = $('li.multiselect-all', this.$ul)\n        var selectAllInput = selectAllLi.find('input')\n\n        if (checkedBoxesLength > 0 && checkedBoxesLength === allBoxesLength) {\n          selectAllInput.prop('checked', true)\n          selectAllLi.addClass(this.options.selectedClass)\n        } else {\n          selectAllInput.prop('checked', false)\n          selectAllLi.removeClass(this.options.selectedClass)\n        }\n      }\n    },\n\n    /**\n     * Update the button text and its title based on the currently selected options.\n     */\n    updateButtonText: function () {\n      var options = this.getSelected() // First update the displayed button text.\n\n      if (this.options.enableHTML) {\n        $('.multiselect .multiselect-selected-text', this.$container).html(this.options.buttonText(options, this.$select))\n      } else {\n        $('.multiselect .multiselect-selected-text', this.$container).text(this.options.buttonText(options, this.$select))\n      } // Now update the title attribute of the button.\n\n      $('.multiselect', this.$container).attr('title', this.options.buttonTitle(options, this.$select))\n    },\n\n    /**\n     * Get all selected options.\n     *\n     * @returns {jQUery}\n     */\n    getSelected: function () {\n      return $('option', this.$select).filter(':selected')\n    },\n\n    /**\n     * Gets a select option by its value.\n     *\n     * @param {String} value\n     * @returns {jQuery}\n     */\n    getOptionByValue: function (value) {\n      var options = $('option', this.$select)\n      var valueToCompare = value.toString()\n\n      for (var i = 0; i < options.length; i = i + 1) {\n        var option = options[i]\n\n        if (option.value === valueToCompare) {\n          return $(option)\n        }\n      }\n    },\n\n    /**\n     * Get the input (radio/checkbox) by its value.\n     *\n     * @param {String} value\n     * @returns {jQuery}\n     */\n    getInputByValue: function (value) {\n      var checkboxes = $('li input:not(.multiselect-search)', this.$ul)\n      var valueToCompare = value.toString()\n\n      for (var i = 0; i < checkboxes.length; i = i + 1) {\n        var checkbox = checkboxes[i]\n\n        if (checkbox.value === valueToCompare) {\n          return $(checkbox)\n        }\n      }\n    },\n\n    /**\n     * Used for knockout integration.\n     */\n    updateOriginalOptions: function () {\n      this.originalOptions = this.$select.clone()[0].options\n    },\n    asyncFunction: function (callback, timeout, self) {\n      var args = Array.prototype.slice.call(arguments, 3)\n      return setTimeout(function () {\n        callback.apply(self || window, args)\n      }, timeout)\n    },\n    setAllSelectedText: function (allSelectedText) {\n      this.options.allSelectedText = allSelectedText\n      this.updateButtonText()\n    }\n  }\n\n  $.fn.multiselect = function (option, parameter, extraOptions) {\n    return this.each(function () {\n      var data = $(this).data('multiselect')\n      var options = typeof option === 'object' && option // Initialize the multiselect.\n\n      if (!data) {\n        data = new Multiselect(this, options)\n        $(this).data('multiselect', data)\n      } // Call multiselect method.\n\n      if (typeof option === 'string') {\n        data[option](parameter, extraOptions)\n\n        if (option === 'destroy') {\n          $(this).data('multiselect', false)\n        }\n      }\n    })\n  }\n\n  $.fn.multiselect.Constructor = Multiselect\n  $(function () {\n    $('select[data-role=multiselect]').multiselect()\n  })\n})\n// # sourceMappingURL=bootstrap-multiselect.js.map\n"],"file":"bootstrap-multiselect.js"}